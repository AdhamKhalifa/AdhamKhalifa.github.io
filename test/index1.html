<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Adham Khalifa's personal website.">
  <meta name="author" content="Adham Khalifa">
  <title>Covid 19 plasma</title>
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="bootstrap.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
crossorigin=""/>
<!-- Make sure you put this AFTER Leaflet's CSS -->
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
crossorigin=""></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.css' rel='stylesheet' />
  <link href="album.css" rel="stylesheet">
  <style>
  html{
    overflow-x: hidden;
    scroll-behavior: smooth;
  }
  /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
       #mapid { height: 600px; }

      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }


  </style>

  <script>
      // Set up global variable
      var result;

      function showPosition() {
          // Store the element where the page displays the result
          result = document.getElementById("result");

          // If geolocation is available, try to get the visitor's position
          if(navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(successCallback, errorCallback);
              result.innerHTML = "Getting the position information...";
          } else {
              alert("Sorry, your browser does not support HTML5 geolocation.");
          }
      };

      // Define callback function for successful attempt
      function successCallback(position) {
          result.innerHTML = "Your current position is (" + "Latitude: " + position.coords.latitude + ", " + "Longitude: " + position.coords.longitude + ")";
      }

      // Define callback function for failed attempt
      function errorCallback(error) {
          if(error.code == 1) {
              result.innerHTML = "You've decided not to share your position, but it's OK. We won't ask you again.";
          } else if(error.code == 2) {
              result.innerHTML = "The network is down or the positioning service can't be reached.";
          } else if(error.code == 3) {
              result.innerHTML = "The attempt timed out before it could get the location data.";
          } else {
              result.innerHTML = "Geolocation failed due to unknown error.";
          }
      }
  </script>

</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#">COVID-19 Plasma</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#mapid">Map</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="contact.html">Contact</a>
      </li>
      <li class="nav-item">
      <a href="https://ko-fi.com/adhamkhalifa"><button type="button" class="btn btn-outline-success">Support</button></a>
      </li>

    </ul>
  </div>
  <ul class="list-inline">
<li class="list-inline-item"></li>
</ul>
</nav>
  <main role="main">
    <div class="jumbotron-fluid text-center">
      <div class="container">
        <br>
        <h3>COVID-19 Plasma donors</h3>
        <p class="lead">This is a platform to help connect COVID-19 patients who need plasma donations with people who recovered.</p>
        <img src="blood-donation.png" width="120" height="120" class="rounded mx-auto d-block img-thumbnail" alt="Donate your Plasma" style="border:none;">
        <br>
        <br>
        <p class="lead">	&nbsp;By <a href="https://www.adhamkhalifa.com" target="_blank">Adham Khalifa</a></p>

      </div>
    </div>
    <section class="jumbotron text-center" style="background-color:#e9ecef;">
      <div class="container">
        <h1>How does it work?</h1>
        <p class="lead">First, you are a :</p>
          <a href="#donor">  <button type="button" class="btn btn-outline-success btn-lg">Plasma donor</button></a>
          <a href="#patient">  <button type="button" class="btn btn-outline-danger btn-lg">Patient</button> </a>
      </div>
    </section>
    <section class="jumbotron text-center patient" id="patient">
      <div class="container">
        <h1>COVID-19 Patients</h1>
        <p class="lead">Convalescent plasma is the liquid part of blood that is collected from patients who have recovered from the novel coronavirus disease. Their antibodies can help fight the infection.</p>
        <a href="#mapid"><button type="button" class="btn btn-outline-success btn-lg">Find donors</button></a>
      </div>
    </section>
    <div class="jumbotron jumbotron-fluid text-center" id="donor" style="background-color:#e9ecef;">
      <div class="container">
        <h1>Donors</h1>
        <p class="lead">People who have fully recovered from COVID-19 for at least two weeks are encouraged to consider donating plasma, which may help save the lives of other patients. </p>
        <h6>Fill out this form and add yourself as a donor on the map.</h6>
        <center>

        <form action="send.php" method="post">
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="inputEmail4">Full Name</label>
              <input type="text" class="form-control" id="inputName4" placeholder="John Smith" name="FullName">
            </div>
          </div>
            <div class="form-row">
              <div class="form-group col-3">
              <label for="inputGender">Gender</label>
              <select id="inputGender" class="form-control" name="Gender">
                <option selected>Choose...</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>

            </div>
            <div class="form-group col-3">
            <label for="inputAge4">Age</label>
            <input type="number" class="form-control" id="inputAge4" placeholder="Age" name="Age">
            </div>
            <div class="form-group col-5">
            <label for="inputPhone4">Phone Number</label>
            <input type="text" class="form-control" id="inputPhone4" placeholder="Phone Number" name="Number">
            </div>
    </div>
    <div class="form-row">
      <div class="form-group col-5">
        <div class="form-group">
          <label for="inputAddress2">Street Address</label>
          <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor" name="StreetAddress">
        </div>

    </div>
    <div class="form-group col-3">
    <label for="inputAge4">City</label>
    <input type="text" class="form-control" id="inputCity4" placeholder="City" name="City">
    </div>
    <div class="form-group col-3">
      <label for="state" class="col-sm-2 control-label">State</label>
		<select class="form-control" id="state" name="State">
			<option value="">N/A</option>
			<option value="AK">Alaska</option>
			<option value="AL">Alabama</option>
			<option value="AR">Arkansas</option>
			<option value="AZ">Arizona</option>
			<option value="CA">California</option>
			<option value="CO">Colorado</option>
			<option value="CT">Connecticut</option>
			<option value="DC">District of Columbia</option>
			<option value="DE">Delaware</option>
			<option value="FL">Florida</option>
			<option value="GA">Georgia</option>
			<option value="HI">Hawaii</option>
			<option value="IA">Iowa</option>
			<option value="ID">Idaho</option>
			<option value="IL">Illinois</option>
			<option value="IN">Indiana</option>
			<option value="KS">Kansas</option>
			<option value="KY">Kentucky</option>
			<option value="LA">Louisiana</option>
			<option value="MA">Massachusetts</option>
			<option value="MD">Maryland</option>
			<option value="ME">Maine</option>
			<option value="MI">Michigan</option>
			<option value="MN">Minnesota</option>
			<option value="MO">Missouri</option>
			<option value="MS">Mississippi</option>
			<option value="MT">Montana</option>
			<option value="NC">North Carolina</option>
			<option value="ND">North Dakota</option>
			<option value="NE">Nebraska</option>
			<option value="NH">New Hampshire</option>
			<option value="NJ">New Jersey</option>
			<option value="NM">New Mexico</option>
			<option value="NV">Nevada</option>
			<option value="NY">New York</option>
			<option value="OH">Ohio</option>
			<option value="OK">Oklahoma</option>
			<option value="OR">Oregon</option>
			<option value="PA">Pennsylvania</option>
			<option value="PR">Puerto Rico</option>
			<option value="RI">Rhode Island</option>
			<option value="SC">South Carolina</option>
			<option value="SD">South Dakota</option>
			<option value="TN">Tennessee</option>
			<option value="TX">Texas</option>
			<option value="UT">Utah</option>
			<option value="VA">Virginia</option>
			<option value="VT">Vermont</option>
			<option value="WA">Washington</option>
			<option value="WI">Wisconsin</option>
			<option value="WV">West Virginia</option>
			<option value="WY">Wyoming</option>
		</select>
    </div>

</div>
<div class="form-row">
  <div class="form-group col-3">
  <label for="inputState">Blood Type</label>
  <select class="form-control" id="BloodType" name="BloodType">
    <option value="A+">A+</option>
    <option value="A-">A-</option>
    <option value="B+">B+</option>
    <option value="B-">B-</option>
    <option value="AB+">AB+</option>
    <option value="AB-">AB-</option>
    <option value="O+">O+</option>
    <option value="O-">O-</option>
  </select>
</div>
<div class="form-group col-5">
  <label for="example-date-input">Date</label>
    <div class="col-10">
      <input class="form-control" type="date"  id="example-date-input" name="DiagnosisDate">
    </div>
</div>
<div class="form-group col-3">
    <label for="inputAddress2">Quarantine Place</label>
    <input type="text" class="form-control" id="inputAddress2" placeholder="Hospital/Home" name="QuarantinePlace">
</div>

</div>
<div class="form-group">
  <label for="exampleTextarea">Example textarea</label>
      <textarea class="form-control" id="exampleTextarea" rows="3" name="Diseases"></textarea>

<div class="form-group col-5">
        <br>
        <label for="inputSwabResult">Do you have a Swab Result?</label>
        <select class="form-control" id="SwabResult" name="SwabResult">
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
</div>
<div class="col-auto my-1">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="autoSizingCheck2" onclick="getLocation()" name="location">
        <label class="form-check-label" for="autoSizingCheck2">
          Use my current location (recommended)
        </label>
        <input type="hidden" id="localization" name="Location">
        <p id="test" style=""></p>
      </div>
    </div>



<script>
var x = document.getElementById("test");

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition, showError);
  } else {
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  x.innerHTML = "Latitude: " + position.coords.latitude +
  "<br>Longitude: " + position.coords.longitude;
  document.getElementById("localization") = x;

}

function showError(error) {
  switch(error.code) {
    case error.PERMISSION_DENIED:
      x.innerHTML = "User denied the request for Geolocation."
      break;
    case error.POSITION_UNAVAILABLE:
      x.innerHTML = "Location information is unavailable."
      break;
    case error.TIMEOUT:
      x.innerHTML = "The request to get user location timed out."
      break;
    case error.UNKNOWN_ERROR:
      x.innerHTML = "An unknown error occurred."
      break;
  }
}
</script>

</div>
</div>


    <div class="form-group">
      <div class="form-check">
        <label class="form-check-label" for="gridCheck">
          Your request to be added to the map will be reviewed as soon as possible.
        </label>
      </div>
    </div>
    <button type="submit" class="btn btn-primary btn-lg">Finish</button>
</form>
</center>
      </div>
    </div>
  </main>

<!--Map-->
  <div id="mapid"></div>

  <script>

  var mymap = L.map('mapid').setView([41.378628, -72.104473], 12);
  L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox/streets-v11',
    tileSize: 512,
    zoomOffset: -1,
    accessToken: 'pk.eyJ1IjoiYWRoYW1raGFsaWZhIiwiYSI6ImNrYjhvYTRubzA2M3cydm8wNDQ1MG84b2wifQ.-qD7waSuGU90VstAD73NlA'
  }).addTo(mymap);

//Test marker

  var marker = L.marker([51.5, -0.09]).addTo(mymap);
  marker.bindPopup("<b>Hello world!</b><br>I am a popup.");



  </script>

</body>
</html>
